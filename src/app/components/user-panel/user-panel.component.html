<form class="space-y-3" #userForm="ngForm" (ngSubmit)="onSubmit(userForm)">
  <h5 class="text-xl font-medium text-gray-900 dark:text-white">
    {{ id ? "Edit User" : "New User" }}
  </h5>
  <p class="mb-3 font-normal text-gray-700 dark:text-gray-400">
    Fill in the user details below.
  </p>

  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      <label
        for="name"
        class="block mb-0 text-sm font-medium text-gray-900 dark:text-white"
      >
        Name<span class="text-red-500">*</span>
      </label>
      <input
        [(ngModel)]="user.name"
        #nameRef="ngModel"
        required
        name="name"
        id="name"
        type="text"
        placeholder="Full name"
        [class.border-red-500]="nameRef.invalid && nameRef.touched"
        class="bg-gray-50 border text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"
      />
      <div
        *ngIf="nameRef.invalid && nameRef.touched"
        class="text-red-500 text-sm mt-0 info-required"
      >
        Name is required.
      </div>
    </div>

    <div>
      <label
        for="email"
        class="block mb-0 text-sm font-medium text-gray-900 dark:text-white"
      >
        Email<span class="text-red-500">*</span>
      </label>
      <input
        [(ngModel)]="user.email"
        #emailRef="ngModel"
        required
        name="email"
        id="email"
        type="email"
        placeholder="example@email.com"
        [class.border-red-500]="emailRef.invalid && emailRef.touched"
        class="bg-gray-50 border text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"
      />
      <div
        *ngIf="emailRef.invalid && emailRef.touched"
        class="text-red-500 text-sm mt-0 info-required"
      >
        Valid email is required.
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      <label
        for="password"
        class="block mb-0 text-sm font-medium text-gray-900 dark:text-white"
      >
        Password<span class="text-red-500" *ngIf="!id">*</span>
      </label>
      <input
        [(ngModel)]="user.password"
        #passwordRef="ngModel"
        [required]="id ? false : true"
        name="password"
        id="password"
        type="password"
        [class.border-red-500]="passwordRef.invalid && passwordRef.touched"
        class="bg-gray-50 border text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"
      />
      <div
        *ngIf="passwordRef.invalid && passwordRef.touched"
        class="text-red-500 text-sm mt-0 info-required"
      >
        Password is required.
      </div>
    </div>

    <div>
      <label
        for="phone"
        class="block mb-0 text-sm font-medium text-gray-900 dark:text-white"
      >
        Phone
      </label>
      <input
        [(ngModel)]="user.phone"
        name="phone"
        id="phone"
        type="text"
        mask="(00) 00000-0000"
        placeholder="(__) 9____-____"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"
      />
    </div>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      <label
        for="cpf"
        class="block mb-0 text-sm font-medium text-gray-900 dark:text-white"
      >
        CPF
      </label>
      <input
        [(ngModel)]="user.cpf"
        name="cpf"
        id="cpf"
        type="text"
        mask="000.000.000-00"
        placeholder="___.___.___-__"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"
      />
    </div>

    <div>
      <label
        for="rg"
        class="block mb-0 text-sm font-medium text-gray-900 dark:text-white"
      >
        RG
      </label>
      <input
        [(ngModel)]="user.rg"
        name="rg"
        id="rg"
        type="text"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"
      />
    </div>
  </div>

  <div>
    <label
      for="address"
      class="block mb-0 text-sm font-medium text-gray-900 dark:text-white"
    >
      Address
    </label>
    <input
      [(ngModel)]="user.address"
      name="address"
      id="address"
      type="text"
      placeholder="Street name, number"
      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"
    />
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      <label
        for="city"
        class="block mb-0 text-sm font-medium text-gray-900 dark:text-white"
      >
        City
      </label>
      <input
        [(ngModel)]="user.city"
        name="city"
        id="city"
        type="text"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"
      />
    </div>

    <div>
      <label
        for="state"
        class="block mb-0 text-sm font-medium text-gray-900 dark:text-white"
      >
        State
      </label>
      <input
        [(ngModel)]="user.state"
        name="state"
        id="state"
        type="text"
        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"
      />
    </div>
  </div>

  <div>
    <label
      for="birthdate"
      class="block mb-0 text-sm font-medium text-gray-900 dark:text-white"
    >
      Birthdate
    </label>
    <input
      [(ngModel)]="user.birthdate"
      name="birthdate"
      id="birthdate"
      type="date"
      class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg block w-full p-2.5 dark:bg-gray-600 dark:border-gray-500 dark:text-white"
    />
  </div>

  <div>
    <label class="block mb-0 text-sm font-medium text-gray-900 dark:text-white">
      Role<span class="text-red-500">*</span>
    </label>
    <div class="flex gap-4">
      <label
        class="flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300"
      >
        <input
          type="radio"
          [(ngModel)]="user.role"
          name="role"
          value="user"
          required
          class="accent-blue-600"
        />
        User
      </label>
      <label
        class="flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300"
      >
        <input
          type="radio"
          [(ngModel)]="user.role"
          name="role"
          value="admin"
          class="accent-blue-600"
        />
        Admin
      </label>
      <label
        class="flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300"
      >
        <input
          type="radio"
          [(ngModel)]="user.role"
          name="role"
          value="root"
          class="accent-blue-600"
        />
        Root
      </label>
    </div>
  </div>

  <div class="flex flex-wrap gap-2 justify-end pt-4">
    <button
      type="button"
      class="text-red-600 border border-red-600 hover:bg-red-50 dark:text-red-400 dark:border-red-400 dark:hover:bg-red-900 font-medium rounded-lg text-sm px-5 py-2.5 cursor-pointer"
      (click)="onDelete()"
      *ngIf="id"
    >
      Delete
    </button>
    <div class="flex-auto"></div>
    <button
      type="button"
      class="text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg text-sm px-5 py-2.5 cursor-pointer"
      (click)="onCancel()"
    >
      Cancel
    </button>
    <button
      type="submit"
      class="text-white bg-blue-700 hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700 font-medium rounded-lg text-sm px-5 py-2.5 cursor-pointer"
    >
      Save
    </button>
  </div>
</form>
